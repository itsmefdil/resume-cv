<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ data.personal_info.username }} - Personal Website</title>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-yaml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-docker.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-sql.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out'
                    }
                }
            }
        }
    </script>
    <style>
        /* CSS Variables for theme colors */
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f9fafb;
            --text-primary: #111827;
            --text-secondary: #374151;
            --text-tertiary: #6b7280;
            --border-color: #e5e7eb;
            --navbar-bg: rgba(255, 255, 255, 0.95);
            --navbar-blur: rgba(255, 255, 255, 0.85);
            --code-bg: #111827;
            --code-text: #f9fafb;
            --inline-code-bg: #f3f4f6;
            --inline-code-text: #111827;
        }

        [data-theme="dark"] {
            --bg-primary: #111827;
            --bg-secondary: #1f2937;
            --text-primary: #f9fafb;
            --text-secondary: #e5e7eb;
            --text-tertiary: #9ca3af;
            --border-color: #374151;
            --navbar-bg: rgba(31, 41, 55, 0.95);
            --navbar-blur: rgba(31, 41, 55, 0.85);
            --code-bg: #0f172a;
            --code-text: #f1f5f9;
            --inline-code-bg: #374151;
            --inline-code-text: #f9fafb;
        }

        /* Apply theme variables to body and key elements */
        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes slideUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .htmx-request {
            opacity: 0.6;
        }

        .htmx-settling {
            opacity: 1;
        }

        .htmx-swapping {
            opacity: 0.3;
        }

        /* Blur glass effect for navbar */
        .navbar-blur {
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            background: var(--navbar-blur);
            border-bottom: 1px solid var(--border-color);
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }

        .navbar-transparent {
            background: var(--navbar-bg);
            border-bottom: 1px solid var(--border-color);
        }

        /* Navigation link styles */
        .nav-link {
            color: var(--text-secondary);
            transition: color 0.2s ease, background-color 0.2s ease;
        }

        .nav-link:hover {
            color: #3b82f6;
            background-color: var(--inline-code-bg);
        }

        /* Theme toggle button styles */
        .theme-toggle-btn {
            background-color: var(--inline-code-bg);
            color: var(--text-secondary);
            transition: all 0.2s ease;
        }

        .theme-toggle-btn:hover {
            background-color: var(--border-color);
            transform: scale(1.05);
        }

        /* Markdown content styling */
        .markdown-content {
            line-height: 1.8;
            max-width: none;
        }

        .markdown-content h1 {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-top: 3rem;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 0.5rem;
        }

        .markdown-content h1:first-child {
            margin-top: 0;
        }

        .markdown-content h2 {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-top: 2.5rem;
            margin-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 0.25rem;
        }

        .markdown-content h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-top: 2rem;
            margin-bottom: 0.75rem;
        }

        .markdown-content h4 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .markdown-content p {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            line-height: 1.7;
            font-size: 1rem;
        }

        .markdown-content ul,
        .markdown-content ol {
            margin-bottom: 1.5rem;
            color: var(--text-secondary);
            padding-left: 1.5rem;
        }

        .markdown-content ul {
            list-style-type: disc;
        }

        .markdown-content ol {
            list-style-type: decimal;
        }

        .markdown-content li {
            margin-bottom: 0.5rem;
            line-height: 1.6;
        }

        .markdown-content li>ul,
        .markdown-content li>ol {
            margin-top: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .markdown-content blockquote {
            border-left: 4px solid #3b82f6;
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
            background-color: var(--inline-code-bg);
            border-radius: 0.5rem;
            font-style: italic;
            color: var(--text-secondary);
        }

        .markdown-content a {
            color: #2563eb;
            text-decoration: underline;
            text-underline-offset: 2px;
            transition: color 0.2s ease;
        }

        .markdown-content a:hover {
            color: #1d4ed8;
        }

        [data-theme="dark"] .markdown-content a {
            color: #60a5fa;
        }

        [data-theme="dark"] .markdown-content a:hover {
            color: #93c5fd;
        }

        .markdown-content strong {
            font-weight: 600;
            color: var(--text-primary);
        }

        .markdown-content em {
            font-style: italic;
        }

        /* Code block styling */
        .markdown-content pre {
            background-color: var(--code-bg);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
            overflow-x: auto;
            position: relative;
        }

        .markdown-content pre code {
            background: transparent;
            font-size: 0.875rem;
            padding: 0;
            color: var(--code-text);
            line-height: 1.5;
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
        }

        .markdown-content :not(pre)>code {
            background-color: var(--inline-code-bg);
            color: var(--inline-code-text);
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
            border: 1px solid var(--border-color);
        }

        .markdown-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            border-radius: 0.5rem;
            overflow: hidden;
            border: 1px solid var(--border-color);
        }

        .markdown-content th,
        .markdown-content td {
            border: 1px solid var(--border-color);
            padding: 0.75rem 1rem;
            text-align: left;
        }

        .markdown-content th {
            background-color: var(--inline-code-bg);
            font-weight: 600;
            color: var(--text-primary);
        }

        .markdown-content td {
            color: var(--text-secondary);
        }

        /* Image styling */
        .markdown-content img {
            max-width: 100%;
            height: auto;
            border-radius: 0.5rem;
            margin: 1.5rem 0;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        /* Horizontal rule */
        .markdown-content hr {
            border: none;
            height: 1px;
            background-color: var(--border-color);
            margin: 2rem 0;
        }

        /* Syntax highlighting overrides */
        .codehilite {
            background-color: var(--code-bg);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            overflow-x: auto;
        }

        .codehilite pre {
            background: transparent;
            padding: 0;
            margin: 0;
        }

        /* Copy button for code blocks */
        .code-block-wrapper {
            position: relative;
        }

        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: #f9fafb;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .code-block-wrapper:hover .copy-btn {
            opacity: 1;
        }

        .copy-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-800 font-sans transition-colors duration-300"
    style="background-color: var(--bg-primary); color: var(--text-primary);">
    <!-- Navigation -->
    <nav id="navbar" class="navbar-transparent shadow-sm fixed top-0 w-full z-50 transition-all duration-300">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-3">
                        <img src="{{ data.personal_info.photo }}" alt="{{ data.personal_info.username }}"
                            class="w-10 h-10 rounded-full border-2 border-blue-200">
                        <div>
                            <h1 class="text-lg font-bold" style="color: var(--text-primary);">{{ data.personal_info.name
                                }}</h1>
                            <p class="text-sm" style="color: var(--text-tertiary);">@{{ data.personal_info.sosname }}
                            </p>
                        </div>
                    </div>
                    <span class="hidden sm:inline-block" style="color: var(--text-tertiary);">|</span>
                    <span class="hidden sm:inline-block" style="color: var(--text-secondary);">{{
                        data.personal_info.title }}</span>
                </div>

                <!-- Navigation Menu -->
                <div class="hidden md:flex items-center space-x-8">
                    <button class="nav-btn nav-link px-4 py-2 rounded-md font-medium" onclick="location.reload()"
                        title="Return to home page">Home</button>
                    <button class="nav-btn nav-link px-4 py-2 rounded-md font-medium" hx-get="/api/blog"
                        hx-target="#content-area" hx-trigger="click">Blog</button>
                    <button class="nav-btn nav-link px-4 py-2 rounded-md font-medium"
                        hx-get="/api/section/personal_info" hx-target="#content-area" hx-trigger="click">About</button>

                    <!-- Theme Toggle Button -->
                    <button id="theme-toggle" class="theme-toggle-btn p-2 rounded-lg" title="Toggle theme">
                        <svg id="theme-toggle-light-icon" class="w-5 h-5" style="color: var(--text-secondary);"
                            fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd"
                                d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                                clip-rule="evenodd"></path>
                        </svg>
                        <svg id="theme-toggle-dark-icon" class="w-5 h-5 hidden" style="color: var(--text-secondary);"
                            fill="currentColor" viewBox="0 0 20 20">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                        </svg>
                    </button>
                </div>

                <!-- Mobile controls -->
                <div class="md:hidden flex items-center space-x-3">
                    <!-- Mobile Theme Toggle -->
                    <button id="theme-toggle-mobile" class="theme-toggle-btn p-2 rounded-lg" title="Toggle theme">
                        <svg class="theme-toggle-light-icon w-4 h-4" style="color: var(--text-secondary);"
                            fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd"
                                d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                                clip-rule="evenodd"></path>
                        </svg>
                        <svg class="theme-toggle-dark-icon w-4 h-4 hidden" style="color: var(--text-secondary);"
                            fill="currentColor" viewBox="0 0 20 20">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                        </svg>
                    </button>

                    <button id="download-btn-mobile"
                        class="bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm"
                        onclick="downloadPDF()">Resume</button>
                    <button id="mobile-menu-toggle" class="nav-link p-2 rounded-lg">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>

                <!-- Resume Button (Desktop only) -->
                <button id="download-btn"
                    class="hidden md:flex bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors items-center space-x-2 font-medium"
                    onclick="downloadPDF()">
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd"
                            d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"
                            clip-rule="evenodd"></path>
                    </svg>
                    <span id="download-text">Resume</span>
                </button>
            </div>
        </div>

        <!-- Mobile menu -->
        <div id="mobile-menu" class="hidden md:hidden border-t"
            style="background-color: var(--bg-secondary); border-color: var(--border-color);">
            <div class="px-4 py-4 space-y-2">
                <button class="nav-btn nav-link w-full text-left px-4 py-3 rounded-md font-medium"
                    onclick="location.reload(); toggleMobileMenu()" title="Return to home page">Home</button>
                <button class="nav-btn nav-link w-full text-left px-4 py-3 rounded-md font-medium" hx-get="/api/blog"
                    hx-target="#content-area" hx-trigger="click" onclick="toggleMobileMenu()">Blog</button>
                <button class="nav-btn nav-link w-full text-left px-4 py-3 rounded-md font-medium"
                    hx-get="/api/section/personal_info" hx-target="#content-area" hx-trigger="click"
                    onclick="toggleMobileMenu()">About</button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-20 min-h-screen">
        <!-- Dynamic Content Area -->
        <section class="py-0">
            <div id="content-area" class="animate-fade-in">
                <!-- Default content - Home page with Hero Section -->
                <!-- Hero Section -->
                <section class="bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 text-white py-20">
                    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div class="text-center">
                            <!-- Profile Photo -->
                            <div class="mb-8">
                                <div class="relative inline-block">
                                    <img src="{{ data.personal_info.photo }}" alt="{{ data.personal_info.username }}"
                                        class="w-32 h-32 md:w-40 md:h-40 rounded-full mx-auto border-4 border-white shadow-2xl animate-fade-in">
                                    <div
                                        class="absolute -bottom-2 -right-2 bg-green-500 w-8 h-8 rounded-full border-4 border-white flex items-center justify-center">
                                        <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd"
                                                d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                                                clip-rule="evenodd"></path>
                                        </svg>
                                    </div>
                                </div>
                            </div>

                            <div class="mb-8">
                                <h1 class="text-5xl md:text-7xl font-bold mb-2 animate-fade-in">
                                    Hi, I'm {{ data.personal_info.username }}
                                </h1>
                                <p class="text-lg md:text-xl text-blue-200 mb-6 animate-slide-up">
                                    @{{ data.personal_info.sosname }}
                                </p>
                                <p class="text-2xl md:text-3xl mb-8 text-blue-100 animate-slide-up font-light">
                                    {{ data.personal_info.title }}
                                </p>
                                <p
                                    class="text-lg md:text-xl max-w-4xl mx-auto text-blue-50 animate-slide-up leading-relaxed">
                                    Welcome to my corner of the internet. I'm passionate about building robust, scalable
                                    infrastructure
                                    and sharing my knowledge through writing and open source contributions.
                                </p>
                            </div>

                            <!-- Contact & Social Links -->
                            <div class="flex flex-wrap justify-center gap-8 mt-12 text-sm">
                                <a href="mailto:{{ data.personal_info.email }}"
                                    class="flex items-center space-x-2 bg-white bg-opacity-10 px-4 py-3 rounded-lg hover:bg-opacity-20 transition-all duration-300 backdrop-blur-sm">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                        <path
                                            d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z">
                                        </path>
                                        <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
                                    </svg>
                                    <span>Get in touch</span>
                                </a>
                                <a href="{{ data.personal_info.linkedin }}" target="_blank"
                                    class="flex items-center space-x-2 bg-white bg-opacity-10 px-4 py-3 rounded-lg hover:bg-opacity-20 transition-all duration-300 backdrop-blur-sm">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd"
                                            d="M16.338 16.338H13.67V12.16c0-.995-.017-2.277-1.387-2.277-1.39 0-1.601 1.086-1.601 2.207v4.248H8.014v-8.59h2.559v1.174h.037c.356-.675 1.227-1.387 2.526-1.387 2.703 0 3.203 1.778 3.203 4.092v4.711zM5.005 6.575a1.548 1.548 0 11-.003-3.096 1.548 1.548 0 01.003 3.096zm-1.337 9.763H6.34v-8.59H3.667v8.59zM17.668 1H2.328C1.595 1 1 1.581 1 2.298v15.403C1 18.418 1.595 19 2.328 19h15.34c.734 0 1.332-.582 1.332-1.299V2.298C19 1.581 18.402 1 17.668 1z"
                                            clip-rule="evenodd"></path>
                                    </svg>
                                    <span>LinkedIn</span>
                                </a>
                                <a href="{{ data.personal_info.github }}" target="_blank"
                                    class="flex items-center space-x-2 bg-white bg-opacity-10 px-4 py-3 rounded-lg hover:bg-opacity-20 transition-all duration-300 backdrop-blur-sm">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd"
                                            d="M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z"
                                            clip-rule="evenodd"></path>
                                    </svg>
                                    <span>GitHub</span>
                                </a>
                                {% if data.personal_info.website %}
                                <a href="{{ data.personal_info.website }}" target="_blank"
                                    class="flex items-center space-x-2 bg-white bg-opacity-10 px-4 py-3 rounded-lg hover:bg-opacity-20 transition-all duration-300 backdrop-blur-sm">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd"
                                            d="M4.083 9h1.946c.089-1.546.383-2.97.837-4.118A6.004 6.004 0 004.083 9zM10 2a8 8 0 100 16 8 8 0 000-16zm0 2c-.076 0-.232.032-.465.262-.238.234-.497.623-.737 1.182-.389.907-.673 2.142-.766 3.556h3.936c-.093-1.414-.377-2.649-.766-3.556-.24-.56-.5-.948-.737-1.182C10.232 4.032 10.076 4 10 4zm3.971 5c-.089-1.546-.383-2.97-.837-4.118A6.004 6.004 0 0115.917 9h-1.946zm-2.003 2H8.032c.093 1.414.377 2.649.766 3.556.24.56.5.948.737 1.182.233.23.389.262.465.262.076 0 .232-.032.465-.262.238-.234.498-.623.737-1.182.389-.907.673-2.142.766-3.556zm1.166 4.118c.454-1.147.748-2.572.837-4.118h1.946a6.004 6.004 0 01-2.783 4.118zm-6.268 0C6.412 13.97 6.118 12.546 6.03 11H4.083a6.004 6.004 0 002.783 4.118z"
                                            clip-rule="evenodd"></path>
                                    </svg>
                                    <span>Website</span>
                                </a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Home Content -->
                <section class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
                    <!-- Default content - Personal Introduction -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
                        <!-- Main Content -->
                        <div class="lg:col-span-2 space-y-12">
                            <!-- About Me -->
                            <div class="bg-white rounded-xl shadow-sm p-8 border">
                                <h2 class="text-3xl font-bold text-gray-900 mb-8">About Me</h2>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                                    <!-- Photo Section -->
                                    <div class="md:col-span-1">
                                        <div class="relative">
                                            <img src="{{ data.personal_info.photo }}"
                                                alt="{{ data.personal_info.username }}"
                                                class="w-full max-w-xs mx-auto rounded-2xl shadow-lg">
                                            <div
                                                class="absolute -bottom-4 -right-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-full shadow-lg">
                                                <span class="text-sm font-medium">@{{ data.personal_info.sosname
                                                    }}</span>
                                            </div>
                                        </div>

                                        <!-- Quick Stats -->
                                        <div class="mt-8 space-y-4">
                                            <div class="flex items-center space-x-3 text-gray-600">
                                                <svg class="w-5 h-5 text-blue-500" fill="currentColor"
                                                    viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                                <span>{{ data.personal_info.location }}</span>
                                            </div>
                                            <div class="flex items-center space-x-3 text-gray-600">
                                                <svg class="w-5 h-5 text-green-500" fill="currentColor"
                                                    viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                                <span>Available for opportunities</span>
                                            </div>
                                            <div class="flex items-center space-x-3 text-gray-600">
                                                <svg class="w-5 h-5 text-purple-500" fill="currentColor"
                                                    viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                                <span>5+ years experience</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Text Content -->
                                    <div class="md:col-span-2">
                                        <div class="prose prose-lg text-gray-700">
                                            <p class="mb-4">{{ data.personal_info.summary }}</p>
                                            <p class="mb-4">
                                                I love solving complex infrastructure challenges and sharing my
                                                knowledge
                                                with the community.
                                                When I'm not optimizing deployment pipelines or managing cloud
                                                infrastructure, you'll find me
                                                writing technical articles or contributing to open source projects.
                                            </p>
                                            <p class="mb-6">
                                                Feel free to explore my work, read my latest thoughts on DevOps
                                                practices,
                                                or reach out
                                                if you'd like to connect!
                                            </p>

                                            <!-- Contact Buttons -->
                                            <div class="flex flex-wrap gap-4">
                                                <a href="mailto:{{ data.personal_info.email }}"
                                                    class="inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium">
                                                    <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                                        <path
                                                            d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z">
                                                        </path>
                                                        <path
                                                            d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z">
                                                        </path>
                                                    </svg>
                                                    Get in touch
                                                </a>
                                                <a href="{{ data.personal_info.linkedin }}" target="_blank"
                                                    class="inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium">
                                                    <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                                        <path fill-rule="evenodd"
                                                            d="M16.338 16.338H13.67V12.16c0-.995-.017-2.277-1.387-2.277-1.39 0-1.601 1.086-1.601 2.207v4.248H8.014v-8.59h2.559v1.174h.037c.356-.675 1.227-1.387 2.526-1.387 2.703 0 3.203 1.778 3.203 4.092v4.711zM5.005 6.575a1.548 1.548 0 11-.003-3.096 1.548 1.548 0 01.003 3.096zm-1.337 9.763H6.34v-8.59H3.667v8.59zM17.668 1H2.328C1.595 1 1 1.581 1 2.298v15.403C1 18.418 1.595 19 2.328 19h15.34c.734 0 1.332-.582 1.332-1.299V2.298C19 1.581 18.402 1 17.668 1z"
                                                            clip-rule="evenodd"></path>
                                                    </svg>
                                                    LinkedIn
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Featured Work -->
                            <div class="bg-white rounded-xl shadow-sm p-8 border">
                                <h2 class="text-3xl font-bold text-gray-900 mb-6">What I Do</h2>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div
                                        class="p-6 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-100">
                                        <div
                                            class="w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center mb-4">
                                            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd"
                                                    d="M2 5a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm3.293 1.293a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 01-1.414-1.414L7.586 10 5.293 7.707a1 1 0 010-1.414zM11 12a1 1 0 100 2h3a1 1 0 100-2h-3z"
                                                    clip-rule="evenodd"></path>
                                            </svg>
                                        </div>
                                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Infrastructure as Code</h3>
                                        <p class="text-gray-600">Building and managing cloud infrastructure using
                                            Terraform,
                                            ensuring scalability and reliability.</p>
                                    </div>

                                    <div
                                        class="p-6 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border border-green-100">
                                        <div
                                            class="w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center mb-4">
                                            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd"
                                                    d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z"
                                                    clip-rule="evenodd"></path>
                                            </svg>
                                        </div>
                                        <h3 class="text-xl font-semibold text-gray-900 mb-2">CI/CD Automation</h3>
                                        <p class="text-gray-600">Designing robust deployment pipelines with automated
                                            testing and security scanning.</p>
                                    </div>

                                    <div
                                        class="p-6 bg-gradient-to-br from-purple-50 to-violet-50 rounded-lg border border-purple-100">
                                        <div
                                            class="w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center mb-4">
                                            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                                                <path
                                                    d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z">
                                                </path>
                                            </svg>
                                        </div>
                                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Container Orchestration
                                        </h3>
                                        <p class="text-gray-600">Managing containerized applications with Kubernetes and
                                            Docker in production environments.</p>
                                    </div>

                                    <div
                                        class="p-6 bg-gradient-to-br from-orange-50 to-red-50 rounded-lg border border-orange-100">
                                        <div
                                            class="w-12 h-12 bg-orange-600 rounded-lg flex items-center justify-center mb-4">
                                            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd"
                                                    d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                                                    clip-rule="evenodd"></path>
                                            </svg>
                                        </div>
                                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Monitoring & Observability
                                        </h3>
                                        <p class="text-gray-600">Implementing comprehensive monitoring solutions with
                                            Prometheus, Grafana, and the ELK stack.</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Blog Preview -->
                            <div class="bg-white rounded-lg shadow-sm p-6 border">
                                <h2 class="text-2xl font-bold text-gray-900 mb-6">Latest Blog Posts</h2>
                                {% for post in blog_posts %}
                                <div class="border-l-4 border-blue-500 pl-4 mb-6 last:mb-0">
                                    <div class="flex items-center space-x-2 mb-2">
                                        <span class="inline-flex items-center px-2 py-1 rounded text-xs font-medium
                                        {% if post.category == 'Infrastructure' %}bg-green-100 text-green-800
                                        {% elif post.category == 'Monitoring' %}bg-blue-100 text-blue-800
                                        {% elif post.category == 'Security' %}bg-red-100 text-red-800
                                        {% elif post.category == 'Cloud' %}bg-purple-100 text-purple-800
                                        {% elif post.category == 'Development' %}bg-orange-100 text-orange-800
                                        {% else %}bg-gray-100 text-gray-800{% endif %}">
                                            {{ post.category }}
                                        </span>
                                        <span class="text-xs text-gray-500">{{ post.date }}</span>
                                    </div>
                                    <h3 class="font-semibold text-gray-900 mb-2">{{ post.title }}</h3>
                                    <p class="text-gray-600 text-sm mb-2">{{ post.summary[:100] }}...</p>
                                    <div class="flex items-center justify-between">
                                        <div class="flex flex-wrap gap-1">
                                            {% for tag in post.tags[:3] %}
                                            <span class="bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded">#{{ tag
                                                }}</span>
                                            {% endfor %}
                                        </div>
                                        <div class="flex items-center space-x-4">
                                            <button class="text-blue-600 hover:text-blue-800 text-sm font-medium"
                                                hx-get="/api/blog/{{ post.filename }}" hx-target="#content-area"
                                                hx-trigger="click">
                                                Read more →
                                            </button>
                                            <span class="text-xs text-gray-500">{{ post.read_time }}</span>
                                        </div>
                                    </div>
                                </div>
                                {% endfor %}
                                <button class="text-blue-600 hover:text-blue-800 font-medium mt-4" hx-get="/api/blog"
                                    hx-target="#content-area" hx-trigger="click">
                                    View All Posts →
                                </button>
                            </div>
                        </div>

                        <!-- Sidebar -->
                        <div class="space-y-8">
                            <!-- Recent Articles -->
                            <div class="bg-white rounded-xl shadow-sm p-6 border">
                                <h3 class="text-xl font-semibold text-gray-900 mb-6">Latest Articles</h3>
                                {% for post in blog_posts %}
                                <div class="border-l-4 border-blue-500 pl-4 mb-6 last:mb-0">
                                    <div class="flex items-center space-x-2 mb-2">
                                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium
                                        {% if post.category == 'Infrastructure' %}bg-green-100 text-green-800
                                        {% elif post.category == 'Monitoring' %}bg-blue-100 text-blue-800
                                        {% elif post.category == 'Security' %}bg-red-100 text-red-800
                                        {% elif post.category == 'Cloud' %}bg-purple-100 text-purple-800
                                        {% elif post.category == 'Development' %}bg-orange-100 text-orange-800
                                        {% else %}bg-gray-100 text-gray-800{% endif %}">
                                            {{ post.category }}
                                        </span>
                                        <span class="text-xs text-gray-500">{{ post.date }}</span>
                                    </div>
                                    <h4 class="font-medium text-gray-900 mb-2 leading-tight">{{ post.title }}</h4>
                                    <p class="text-gray-600 text-sm mb-2">{{ post.summary[:80] }}...</p>
                                    <div class="flex items-center justify-between">
                                        <button
                                            class="inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors"
                                            hx-get="/api/blog/{{ post.filename }}" hx-target="#content-area"
                                            hx-trigger="click">
                                            Read more
                                            <svg class="w-3 h-3 ml-1" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd"
                                                    d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z"
                                                    clip-rule="evenodd"></path>
                                            </svg>
                                        </button>
                                        <span class="text-xs text-gray-500">{{ post.read_time }}</span>
                                    </div>
                                </div>
                                {% endfor %}
                                <button class="text-blue-600 hover:text-blue-800 font-medium" hx-get="/api/blog"
                                    hx-target="#content-area" hx-trigger="click">
                                    View All Articles →
                                </button>
                            </div>

                            <!-- Quick Links -->
                            <div class="bg-white rounded-xl shadow-sm p-6 border">
                                <h3 class="text-xl font-semibold text-gray-900 mb-6">Quick Links</h3>
                                <div class="space-y-4">
                                    <button
                                        class="w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-blue-50 rounded-lg transition-colors text-left"
                                        hx-get="/api/section/experience" hx-target="#content-area" hx-trigger="click">
                                        <span class="font-medium text-gray-900">Professional Experience</span>
                                        <svg class="w-4 h-4 text-gray-500" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd"
                                                d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                                                clip-rule="evenodd"></path>
                                        </svg>
                                    </button>

                                    <button
                                        class="w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-blue-50 rounded-lg transition-colors text-left"
                                        hx-get="/api/section/projects" hx-target="#content-area" hx-trigger="click">
                                        <span class="font-medium text-gray-900">Portfolio Projects</span>
                                        <svg class="w-4 h-4 text-gray-500" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd"
                                                d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                                                clip-rule="evenodd"></path>
                                        </svg>
                                    </button>

                                    <a href="mailto:{{ data.personal_info.email }}"
                                        class="w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-blue-50 rounded-lg transition-colors">
                                        <span class="font-medium text-gray-900">Get In Touch</span>
                                        <svg class="w-4 h-4 text-gray-500" fill="currentColor" viewBox="0 0 20 20">
                                            <path
                                                d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z">
                                            </path>
                                            <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
                                        </svg>
                                    </a>
                                </div>
                            </div>

                            <!-- Technologies -->
                            <div class="bg-white rounded-xl shadow-sm p-6 border">
                                <h3 class="text-xl font-semibold text-gray-900 mb-6">Technologies I Love</h3>
                                <div class="flex flex-wrap gap-2">
                                    {% for skill in data.skills.technical[:12] %}
                                    <span
                                        class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 hover:bg-blue-200 transition-colors">
                                        {{ skill }}
                                    </span>
                                    {% endfor %}
                                </div>
                                <button class="text-blue-600 hover:text-blue-800 font-medium mt-4"
                                    hx-get="/api/section/skills" hx-target="#content-area" hx-trigger="click">
                                    View All Skills →
                                </button>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h3 class="text-xl font-semibold mb-4">Let's Connect</h3>
                <p class="text-gray-300 mb-6">Always open to interesting conversations and collaboration opportunities.
                </p>
                <div class="flex justify-center space-x-6 mb-8">
                    <a href="mailto:{{ data.personal_info.email }}"
                        class="text-gray-300 hover:text-white transition-colors">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
                            <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
                        </svg>
                    </a>
                    <a href="{{ data.personal_info.linkedin }}" target="_blank"
                        class="text-gray-300 hover:text-white transition-colors">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd"
                                d="M16.338 16.338H13.67V12.16c0-.995-.017-2.277-1.387-2.277-1.39 0-1.601 1.086-1.601 2.207v4.248H8.014v-8.59h2.559v1.174h.037c.356-.675 1.227-1.387 2.526-1.387 2.703 0 3.203 1.778 3.203 4.092v4.711zM5.005 6.575a1.548 1.548 0 11-.003-3.096 1.548 1.548 0 01.003 3.096zm-1.337 9.763H6.34v-8.59H3.667v8.59zM17.668 1H2.328C1.595 1 1 1.581 1 2.298v15.403C1 18.418 1.595 19 2.328 19h15.34c.734 0 1.332-.582 1.332-1.299V2.298C19 1.581 18.402 1 17.668 1z"
                                clip-rule="evenodd"></path>
                        </svg>
                    </a>
                    <a href="{{ data.personal_info.github }}" target="_blank"
                        class="text-gray-300 hover:text-white transition-colors">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd"
                                d="M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z"
                                clip-rule="evenodd"></path>
                        </svg>
                    </a>
                </div>
                <p class="text-gray-400">&copy; 2025 {{ data.personal_info.username }}. Built with Flask & HTMX.</p>
            </div>
        </div>
    </footer>

    <script>
        // Add active state to navigation buttons
        document.addEventListener('htmx:afterRequest', function (evt) {
            // Remove active class from all nav buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('bg-blue-100', 'text-blue-700');
                btn.classList.add('text-gray-600');
            });

            // Add active class to clicked button
            if (evt.detail.elt.classList.contains('nav-btn')) {
                evt.detail.elt.classList.add('bg-blue-100', 'text-blue-700');
                evt.detail.elt.classList.remove('text-gray-600');
            }
        });

        // Mobile menu toggle functionality
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            const menuToggle = document.getElementById('mobile-menu-toggle');

            if (mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.remove('hidden');
                menuToggle.innerHTML = `
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                `;
            } else {
                mobileMenu.classList.add('hidden');
                menuToggle.innerHTML = `
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                `;
            }
        }

        // Add click event to mobile menu toggle
        document.getElementById('mobile-menu-toggle').addEventListener('click', toggleMobileMenu);

        // PDF Download function with loading state
        function downloadPDF() {
            const btn = document.getElementById('download-btn') || document.getElementById('download-btn-mobile');
            const text = document.getElementById('download-text');
            const originalText = text ? text.textContent : 'Resume';

            // Show loading state
            btn.disabled = true;
            btn.classList.add('opacity-75');
            if (text) {
                text.textContent = 'Generating PDF...';
            } else {
                btn.textContent = 'Generating PDF...';
            }

            // Create a temporary link for download
            const link = document.createElement('a');
            link.href = '/download';
            link.download = '';

            // Add the link to DOM and trigger click
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);

            // Reset button state after a delay
            setTimeout(() => {
                btn.disabled = false;
                btn.classList.remove('opacity-75');
                if (text) {
                    text.textContent = originalText;
                } else {
                    btn.textContent = originalText;
                }
            }, 2000);
        }

        // Navbar scroll blur effect
        function handleNavbarScroll() {
            const navbar = document.getElementById('navbar');
            const scrollY = window.scrollY;

            if (scrollY > 50) {
                navbar.classList.remove('navbar-transparent');
                navbar.classList.add('navbar-blur');
            } else {
                navbar.classList.remove('navbar-blur');
                navbar.classList.add('navbar-transparent');
            }
        }

        // Add scroll event listener
        window.addEventListener('scroll', handleNavbarScroll);

        // Initial call to set correct state
        handleNavbarScroll();

        // Initialize syntax highlighting and copy buttons for code blocks
        function initCodeBlocks() {
            document.querySelectorAll('pre code').forEach((block) => {
                // Auto-detect language or use data attribute
                if (!block.classList.length) {
                    block.classList.add('language-text');
                }

                // Add copy button to code blocks
                const wrapper = document.createElement('div');
                wrapper.className = 'code-block-wrapper';
                block.parentNode.parentNode.insertBefore(wrapper, block.parentNode);
                wrapper.appendChild(block.parentNode);

                const copyBtn = document.createElement('button');
                copyBtn.className = 'copy-btn';
                copyBtn.textContent = 'Copy';
                copyBtn.onclick = () => {
                    navigator.clipboard.writeText(block.textContent).then(() => {
                        copyBtn.textContent = 'Copied!';
                        setTimeout(() => {
                            copyBtn.textContent = 'Copy';
                        }, 2000);
                    });
                };
                wrapper.appendChild(copyBtn);
            });

            // Re-run Prism highlighting
            if (typeof Prism !== 'undefined') {
                Prism.highlightAll();
            }
        }

        // Initialize code blocks on page load
        document.addEventListener('DOMContentLoaded', initCodeBlocks);

        // Re-initialize after HTMX requests
        document.addEventListener('htmx:afterSwap', initCodeBlocks);
    </script>
    <script>
        // Theme toggle functionality
        const themeToggleDesktop = document.getElementById('theme-toggle');
        const themeToggleMobile = document.getElementById('theme-toggle-mobile');
        const currentTheme = localStorage.getItem('theme') || 'light';

        // Apply initial theme
        document.documentElement.setAttribute('data-theme', currentTheme);

        // Update toggle button states
        function updateToggleButtons(theme) {
            // Desktop toggle icons
            const desktopLightIcon = document.getElementById('theme-toggle-light-icon');
            const desktopDarkIcon = document.getElementById('theme-toggle-dark-icon');

            // Mobile toggle icons
            const mobileLightIcon = themeToggleMobile?.querySelector('.theme-toggle-light-icon');
            const mobileDarkIcon = themeToggleMobile?.querySelector('.theme-toggle-dark-icon');

            if (theme === 'dark') {
                // Show sun icon (to switch back to light)
                desktopLightIcon?.classList.remove('hidden');
                desktopDarkIcon?.classList.add('hidden');
                mobileLightIcon?.classList.remove('hidden');
                mobileDarkIcon?.classList.add('hidden');
            } else {
                // Show moon icon (to switch to dark)
                desktopLightIcon?.classList.add('hidden');
                desktopDarkIcon?.classList.remove('hidden');
                mobileLightIcon?.classList.add('hidden');
                mobileDarkIcon?.classList.remove('hidden');
            }
        }

        // Initial button state
        updateToggleButtons(currentTheme);

        // Theme toggle function
        function toggleTheme() {
            const newTheme = document.documentElement.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateToggleButtons(newTheme);
        }

        // Theme toggle event listeners
        themeToggleDesktop?.addEventListener('click', toggleTheme);
        themeToggleMobile?.addEventListener('click', toggleTheme);
    </script>
</body>

</html>